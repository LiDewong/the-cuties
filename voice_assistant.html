<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Speech Assistant</title>
    <link rel="stylesheet" href="css\voice_assistant.css" />
    <style>
      /* body {
        background-image: url(https://images.unsplash.com/photo-1553356084-58ef4a67b2a7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=60);
      } */
      /* h1 {
        color: crimson;
      } */
      /* .talk {
        background-color: cyan;
        border-radius: 20px;
      } */
      .content {
        color: cyan;
      }
    </style>
  </head>
  <body>
    <div class="upper">
      <img src="img\3line.png" class="tlines" />

      <a href="pickrole.html"><button class="home"></button> </a>
    </div>
    <div class="background">
      <center>
        <button class="parent"></button>
      </center>
      <p></p>
      <p>
      <button class="profile1"></button>
      <div class="text"><h2 class="h2">Hi I'm Qsee, how can I help you?</h2></div>
      </p>
      <p>
      <div class="voice"><img class="voice"src="css\voice.png"></div></p>
      <!-- <p>
      <button class="profile2"></button>
      <div class="text2"><h2 class="hh2">Opening Aliâ€™s Psychological report...</h2></div>
      </p> -->
      </div>
      <center>
      <div class="bottom">
      <!-- <h1>Hi I'm Qsee, how can I help you?</h1> -->
      <a class="rainbow rainbow-1"> <button class="talk">Talk</button><a/>
      <h3 class="content"></h3>
      </center>
      <script>
        // The JavaScript Part Starts
        const btn = document.querySelector(".talk");
        const content = document.querySelector(".content");

        const report = ["opening report sir"];
        const attendance = ["opening attendance sir"];
        const SpeechRecognition =
          window.SpeechRecognition || window.webkitSpeechRecognition;
        const recognition = new SpeechRecognition();

        recognition.onstart = function () {
          console.log("How Can I Help You ?");
        };
        recognition.onresult = function (event) {
          const current = event.resultIndex;

          const transcript = event.results[current][0].transcript;
          content.textContent = transcript;
          readOutLoud(transcript);
        };

        btn.addEventListener("click", () => {
          recognition.start();
        });

        function readOutLoud(message) {
          const speech = new SpeechSynthesisUtterance();

          speech.text = "I am not able to understand ,sir";

          if (message.includes("report")) {
            const finalText = report[Math.floor(Math.random() * report.length)];
            speech.text = finalText;
            window.open("https://rpubs.com/debbiechoonghuitian/864376");
          }

          if (message.includes("attendance")) {
            const finalText =
              attendance[Math.floor(Math.random() * attendance.length)];
            speech.text = finalText;
            window.open(
              "https://docs.google.com/spreadsheets/d/1s2bgLh0udVfAgH3s-qAqatL4eqN0pGXjtSTXrZdSzFg/edit#gid=0"
            );
          }
          speech.volume = 1;
          speech.rate = 1.1;
          speech.pitch = 1;

          window.speechSynthesis.speak(speech);
        }
      </script>
      </div>
    
  </body>
</html>
